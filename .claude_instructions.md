# Claude Code Instructions for Forefront USD

## üéØ CURRENT MISSION: Complete Module Editor Transformation

### **ACTIVE TASK:** Implement All 6 Phases of Module Editor Roadmap

**Full Implementation Plan:** See `/MODULE_EDITOR_ROADMAP.md`

---

## ‚úÖ COMPLETED: Phase 1 - Core UX Improvements

All Phase 1 features are live in production:
- Drag & drop for slides and content blocks
- Autosave with debouncing (3 second delay)
- Save status indicator
- Duplicate slide/block functionality
- Keyboard shortcuts (Ctrl+S, Ctrl+D, Ctrl+Arrow)
- Enhanced UI with tips and counters

**Status:** Deployed to https://forefrontusd.netlify.app on 2025-10-09

---

## ‚úÖ COMPLETED: Phase 2 - Visual Module Creator

All Phase 2 features are live in production:
- 4-step module creation wizard
- Step 1: Basic Info (title, description, instructor, duration, skill level, cover image)
- Step 2: Learning Setup (objectives, takeaways, intro video)
- Step 3: Template Selector (5 templates: Quick Tutorial, Deep Dive, Workshop, Case Study, Blank)
- Step 4: Review & Create (with Save as Draft option)
- Auto-slug generation from title
- Multi-step progress indicator with validation
- Created `/lib/templates/modules.ts` with 5 complete templates
- Created `/components/admin/ModuleWizard.tsx` - Full wizard component
- Created `/app/admin/modules/create/page.tsx` - Wizard page
- Updated `/app/admin/modules/page.tsx` with "üöÄ Create New Module" and "‚úèÔ∏è Edit Module" links

**Status:** Deployed to https://forefrontusd.netlify.app on 2025-10-09

**Achievement:** Zero JSON required for module creation! Module creation time reduced to <15 min.

---

## üöÄ NEXT PHASES TO IMPLEMENT (In Order):

### **PHASE 3: Advanced Content Blocks** (START HERE)
Add rich text editing and 9 new content block types:
1. Install Tiptap dependencies for rich text editing
2. Replace textarea in text blocks with Tiptap editor
3. Add formatting toolbar (Bold, Italic, Headings, Lists, Links, Code, Blockquotes)
4. Implement 9 new content block types:
   - Quiz/Assessment Block (multiple choice, true/false, fill-in-blank)
   - Audio Block (MP3/WAV upload, Spotify/SoundCloud embeds)
   - File Attachment Block (PDF, slides, resources)
   - Embed Block (Loom, Figma, CodePen, CodeSandbox, Replit, iframe)
   - Accordion/Tabs Block (collapsible sections)
   - Callout/Alert Block (Warning, Info, Success, Error)
   - Columns Block (2-column, 3-column layouts)
   - Separator Block (visual dividers)
   - Button/CTA Block (customizable links)
5. Create Block Settings Sidebar (padding, background, borders, custom CSS)
6. Implement block templates (save configured blocks for reuse)
7. Add copy/paste blocks between modules

**Goal:** Make content creation as powerful as Notion

---

### **PHASE 3: Advanced Content Blocks**
After Phase 2 is complete:
1. Install Tiptap for rich text editing
2. Add 9 new content block types (Quiz, Audio, File, Embed, Accordion, Callout, Columns, Separator, Button)
3. Implement block settings sidebar
4. Create block templates system
5. Add copy/paste blocks between modules

**Goal:** Make content creation as powerful as Notion

---

### **PHASE 4: Media & Template Library**
After Phase 3 is complete:
1. Build centralized media library with upload/organize
2. Integrate Unsplash API for stock photos
3. Create slide template browser
4. Implement content snippets manager
5. Add database tables for media_assets and slide_templates

**Goal:** Reusable assets and templates for efficiency

---

### **PHASE 5: AI-Powered Features**
After Phase 4 is complete:
1. Integrate OpenAI/Anthropic API
2. AI slide outline generation
3. Auto-generate quiz questions
4. Writing improvements (grammar, clarity, tone)
5. Accessibility checker
6. SEO suggestions

**Goal:** 10x faster content creation with AI assistance

---

### **PHASE 6: Polish & Professional Features**
Final phase:
1. Split-screen preview mode
2. Dark mode for editor
3. Distraction-free full-screen mode
4. Minimap sidebar for navigation
5. Bulk operations (multi-select, import, export, clone)
6. Analytics preview (completion time, complexity score)

**Goal:** Power user features for advanced creators

---

## üìã IMPLEMENTATION GUIDELINES:

### Always:
- ‚úÖ Use the TodoWrite tool to track progress
- ‚úÖ Build and test after each major feature
- ‚úÖ Deploy to Netlify after each phase completion
- ‚úÖ Keep MODULE_EDITOR_ROADMAP.md updated with status
- ‚úÖ Maintain backward compatibility (no breaking changes)
- ‚úÖ Document new features and usage

### Never:
- ‚ùå Skip phases or jump ahead
- ‚ùå Deploy untested features
- ‚ùå Break existing functionality
- ‚ùå Change database schema without migration plan
- ‚ùå Add dependencies without documenting them

---

## üõ†Ô∏è Technical Standards:

- **Framework:** Next.js 15.5.4 with App Router
- **Styling:** Tailwind CSS + inline styles
- **Database:** Neon PostgreSQL with Drizzle ORM
- **Deployment:** Netlify
- **Code Quality:** TypeScript strict mode, ESLint enabled

---

## üìÇ Key Files & Directories:

### Module Editor:
- `/app/admin/modules/edit/[moduleId]/page.tsx` - Main editor (Phase 1 complete)
- `/components/admin/ContentBlock.tsx` - Block editor components
- `/components/module/ContentBlockViewer.tsx` - Frontend block renderer

### To Create:
- `/app/admin/modules/create/page.tsx` - NEW for Phase 2
- `/components/admin/ModuleWizard.tsx` - NEW for Phase 2
- `/lib/templates/modules.ts` - NEW for Phase 2

### Database:
- `/lib/db/schema.ts` - Schema definitions
- No changes needed for Phase 2 (existing schema sufficient)

---

## üéØ SUCCESS CRITERIA:

Each phase must meet these standards before moving to next:

**Phase 2:**
- [ ] Zero JSON required for module creation
- [ ] All 5 templates working correctly
- [ ] Module creation time < 15 minutes
- [ ] Form validation on all fields
- [ ] Can create module and immediately start editing

**Phase 3:**
- [ ] Rich text editor fully functional
- [ ] All 9 new block types rendering correctly
- [ ] Block settings sidebar working
- [ ] Can copy/paste blocks

**Phase 4:**
- [ ] Media library uploads working
- [ ] Unsplash integration functional
- [ ] Slide templates browsable
- [ ] Can reuse assets across modules

**Phase 5:**
- [ ] AI outline generation working
- [ ] Quiz generation accurate
- [ ] Writing improvements helpful
- [ ] Accessibility checks complete

**Phase 6:**
- [ ] Split-screen preview functional
- [ ] Dark mode toggle working
- [ ] Bulk operations tested
- [ ] Analytics accurate

---

## üí¨ Communication Style:

When reporting progress:
- Be concise and direct
- Show what you built (features, files)
- Report any issues or blockers
- Ask for clarification if needed
- Celebrate wins!

---

## üöÄ START IMPLEMENTING NOW!

**Current Task:** Begin Phase 2 - Visual Module Creator

1. Create todo list for Phase 2
2. Start with module wizard page
3. Build step-by-step components
4. Implement template system
5. Test thoroughly
6. Deploy to production

Let's make this the best course editor ever built! üî•

---

_This file provides context for Claude Code AI assistant. Last updated: 2025-10-09_
